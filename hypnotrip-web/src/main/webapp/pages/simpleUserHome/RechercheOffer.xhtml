<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template/template.xhtml">
	<ui:define name="content">

		<h:head>
		</h:head>
		<h:body>

			<h1 align="center">offers</h1>
			<br />

			<div class="container-fluid custom-container">
				<div class="row">
					<h:form id="formOffer" class="text-center"
						rendered="#{searchOffers.displayForm1}">
						<h1></h1>
						<p:dataTable var="p" value="#{searchOffers.offers}"
							widgetVar="tpTable"
							emptyMessage="No cars found with given criteria"
							filteredValue="#{searchOffers.fitredOffers}">

							<f:facet name="header">
								<p:outputPanel>
									<h:outputText value="Search all fields:" />
									<p:inputText id="globalFilter" onkeyup="PF('tpTable').filter()"
										style="width:150px" placeholder="Enter keyword" />
								</p:outputPanel>
							</f:facet>
							<p:column filterBy="#{p.title}" headerText="title">
								<h:outputText value="#{p.title}" />
							</p:column>
							<p:column filterBy="#{p.description}" headerText="Description">
								<h:outputText value="#{p.description}" />
							</p:column>


							<p:column filterBy="#{p.beginDate}" headerText="Date Of Begin">
								<h:outputText value="#{p.beginDate}" />
							</p:column>

							<p:column filterBy="#{p.finishDate}" headerText="Date Of Finish">
								<h:outputText value="#{p.finishDate}" />
							</p:column>

							<p:column>
								<f:facet name="header">
									<h:outputText value="Select" />
								</f:facet>
								<h:commandButton action="#{searchOffers.selectPage()}"
									value="Buy">

									<f:setPropertyActionListener value="#{p}"
										target="#{searchOffers.selectedOffer}"></f:setPropertyActionListener>
								</h:commandButton>
							</p:column>
						</p:dataTable>
					</h:form>



					<!-- ************************************************************************************************************ -->
					<!-- ************************************************************************************************************ -->
					<!-- ************************************************************************************************************ -->
			
						<h:form id="formForOffer" rendered="#{searchOffers.displayForm2}">

							<div class="category-1 mix custom-column-5"
								style="display: inline-block;">
								<div class="be-post">
									<a href="page1.html" class="be-img-block"> <h:graphicImage
											value="#{searchOffers.selectedOffer.imageURL}" alt="" /><br />
									</a> <b>Title :</b>
									<h:outputText value="#{searchOffers.selectedOffer.title}" />
									<br /> <br /> <b>Description :</b>

									<h:outputText value="#{searchOffers.selectedOffer.description}" />

									<br /> <br /> <b>Date of start :</b>


									<h:outputText value="#{searchOffers.selectedOffer.beginDate}" />
									<br /> <br /> <b>Date of finish :</b>


									<h:outputText value="#{searchOffers.selectedOffer.finishDate}" />


									<br /> <br /> <b>Price :</b>


									<h:outputText value="#{searchOffers.selectedOffer.price}" />

									<br /> <br /> <b>Discount :</b>

									<h:outputText value="#{searchOffers.selectedOffer.discount}" />



								</div>
								<div class="info-block">
									<span><table>
											<tr>
												<td>compte :</td>
												<td><h:inputText value="#{payementBean.numCompte}"
														required="true" requiredMessage="field required" /></td>
											</tr>
											<tr>
												<td>Mot de passe :</td>
												<td><h:inputText value="#{payementBean.password}"
														required="true" requiredMessage="field required" /></td>
											</tr>
										</table></span><br /> <span> <h:commandButton
											action="#{payementBean.doBuyOffer()}" value="Buy" />


									</span>
								</div>
							</div>

						</h:form>
			
					<!-- ************************************************************************************************************ -->
					<!-- ************************************************************************************************************ -->
					<!-- ************************************************************************************************************ -->
				</div>
			</div>
		</h:body>
	</ui:define>
</ui:composition>